<!DOCTYPE HTML>
<!--
	Hyperspace by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

<head>
	<title>The Process</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="assets/css/main.css" />
	<noscript>
		<link rel="stylesheet" href="assets/css/noscript.css" />
	</noscript>
</head>

<body class="is-preload">

	<!-- Header -->
	<header id="header">
		<a href="index.html" class="title">Astrum</a>
	</header>

	<!-- Wrapper -->
	<div id="wrapper">

		<!-- Main -->
		<section id="main" class="wrapper">
			<div class="inner">
				<h1 class="major">The Process</h1>
					
				<!-- Text -->
				<section>
					<h2>Background</h2>
					<p>Some time ago we decided to make an artistic collaboration with <a href="https://www.astrobin.com">Astrobin</a>, a big astrophotography community.<br/>
						We created 110 short audio-visuals with photos from the <a href="https://en.wikipedia.org/wiki/Messier_object">Messier Catalog</a>, in a half-manual-half-generative way. An example:
						                <div class="image col-4" style="display: flex; width: 25em;">
								    <video controls poster="images/resized/M45.jpg" preload="none">
									<source src="videos/M45.mp4" type="video/mp4">
								    </video>
					</div><br/>
					We are also running an <a href="https://opensea.io/assets/astrumnft">NFT sale</a> to support the community and the photographers. For more details on the project, check out the <a href="https://www.astrumnft.art">home page</a>.<br />
						We wrote this article to provide a technical description of our process. We hope you enjoy it! 
					</p>
					<h2>The Idea</h2>
					<p>As you have seen in the main page of the project, each piece of the collection is an astrophoto
						framed inside what should look like camera objective and rotating.<br />
						Meanwhile, an ambient sound is played on the background, composed by an atmospheric pad and a
						"blip" sequence, generated from the star field.</p>
					<p>In this section we want to briefly describe the process for the sound generation. More technical
						details about the whole pipeline can be found directly in the <a
						href="https://github.com/theinnerspace/astrum-nft/">github repository</a>.</p>
					<p>The main idea was to have a sound component generated by the specific image itself. We decided
						then to see if we could "play" the star field, or put it in a different way: to use the pattern of
						stars and planets to create a sound.</p>
					<p>After a few small prototypes, we realized that the most "spacey" effect would have come with
						simple <i>blips</i>, acting as deep space radio signals.</p>
					<h2>The Blips</h2>
					<p>In order to have a pattern to start off with, the photo of the astral object needs to be turned
						into playable "numbers". We used python and <a
							href="https://docs.opencv.org/master/">OpenCV</a> to achieve this.
					<p>Let's see the flow with an example, M6:</p>
					<div class="box alt">
						<div class="row gtr-uniform">
							<div class="col-6"><span class="image fit"><img src="images/M6.jpg" alt="" /></span>
							</div>
						</div>
					</div>
					<p>Ideally, we would have a low frequency beeping sequence where there are fewer stars and a more
						intense one where the field gets denser.<br />
						All this fitting within the 20 seconds length of the video. In order to do this, we needed to
						identify the positions of the stars in the image and then distribute them in their respective
						slot of an imaginary sequencer, playing the stars from left to right.</p>
					<p>First step is to declutter the star field from the noise and "bring forward" the brightest parts
						of the image. This is done in two steps: first turning the image into grey scale
					<div class="box alt">
						<div class="row gtr-uniform">
							<div class="col-6"><span class="image fit"><img src="images/grey.jpeg" alt="" /></span>
							</div>
						</div>
					</div>
					and then applying a binary thresholding operation to only keep the brightest spots. Code:
					<pre><code>
gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)
ret, thresh_img = cv2.threshold(gray, 200, 255, cv2.THRESH_BINARY)
					</code></pre>
					Result:
					<div class="box alt">
						<div class="row gtr-uniform">
							<div class="col-6"><span class="image fit"><img src="images/thres.jpeg" alt="" /></span>
							</div>
						</div>
					</div>
					<p>
						This version of the image can now be used with the OpenCV <code>findContours</code> function to
						identify the boundaries of the stars
					</p>
					<div class="box alt">
						<div class="row gtr-uniform">
							<div class="col-10"><span class="image fit"><img src="images/circles.jpeg" alt="" /></span>
							</div>
						</div>
					</div>
					<p>From this is now possible to know the center position of each identified star and its area.</p>
					<p>We have now turned an image into a list of values. The step from this to generating the sound
						sequence is relatively simple.</p>
					<p>We have used a pre-synthesized blip as a starting sound and pitched it up or down to create lower
						pitch and higher pitch blips (we used the very nice <a href="https://github.com/luvsound/pippi">pippi</a> library for this).
						This is useful to both make the bigger stars blips "deeper" and also to create some variation
						between images.
					</p>
					<h2>Pads</h2>
					Given that the pure bliping alone is not really immersive, we decided to add some atmospheric
					elements to the composition. For this, we resorted to the good old Ableton and some nice atmospheric
					pads that we selected (and edited) from our collection.<br/>
					This part is completely manual: one pad is played for each object. M1 and M110 have their own dedicated pads playing in C and B respectively (first and last notes of the scale in the syllabic notation).<br />
					The rest of the astral objects have been split into groups of 12 elements and each has been assigned to a different pad. 12 notes have then been played in an altered chromatic
					scale, thus covering the whole collection of 110 elements.<br />
					Check the final high quality result on <a
						href="https://opensea.io/assets/0x33c0de6e17862a79a4f7273adf105cf64a356f60/6">Opensea</a>.
					<p></p>
					<h2>Wrap up</h2>
					More work has been done to make sure we could easily regenerate all videos and sounds easily in case
					we found better pictures or in case of copyright issues. We extensively used <a href="http://ffmpeg.org">ffmpeg</a> for the video composition and for the mixing/effects. We will probably write an article about the whole pipeline in a later post.
					Meanwhile, you can find sounds and more details inside the <a
						href="https://github.com/theinnerspace/astrum-nft/">github repository</a>.
					<br /><br />
					We hope you found this article interesting. Feel free to drop an email at
					<code>inner [dot] space [at] posteo [dot] de</code> for more clarifications and suggestions, or just follow/write us on <a href="https://twitter.com/the_innerspace">twitter</a>.
					<br /><br />
					Live long and prosper,<br/>
					Inner Space
				</section>
			</div>
		</section>

	</div>

	<!-- Footer -->
	<footer id="footer" class="wrapper alt">
		<div class="inner">
			<ul class="menu">
				<li>&copy; Astrum. All rights reserved.</li>
				<li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
			</ul>
		</div>
	</footer>

	<!-- Scripts -->
	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/jquery.scrollex.min.js"></script>
	<script src="assets/js/jquery.scrolly.min.js"></script>
	<script src="assets/js/browser.min.js"></script>
	<script src="assets/js/breakpoints.min.js"></script>
	<script src="assets/js/util.js"></script>
	<script src="assets/js/main.js"></script>

</body>

</html>
